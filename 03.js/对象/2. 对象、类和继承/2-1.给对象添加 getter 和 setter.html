<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>给对象添加 getter 和 setter</title>

</head>
<body>
	<script>
		function print(msg) {
			document.write(msg);
			document.write("<br />");
		}

		function showProp(user) {
			for (let prop in user) {
				print(`${prop} : ${user.hasOwnProperty(prop)}`);
			}
		}
	</script>

	<!-- 在对象上添加 -->
	<script>
		let user = {
			name: "John",
			surname: "Smith"
		};

		debugger
		Object.defineProperty(user, 'fullName', {
			get() {
				return `${this.name} ${this.surname}`;
			},

			set(value) {
				[this.name, this.surname] = value.split(' ');
			},

			enumerable: true, // <-- 可被枚举
		});


		showProp(user);

	</script>

	<!-- 在对象“原型”上添加 -->
	<script>
		let user2 = {
			name: "John",
			surname: "Smith"
		};

		debugger
		Object.defineProperty(user2.__proto__, 'fullName', {
			get() {
				return `${this.name} ${this.surname}`;
			},

			set(value) {
				[this.name, this.surname] = value.split(' ');
			},

			enumerable: true, // <-- 可被枚举
		});

		showProp(user2);

	</script>
</body>
</html>