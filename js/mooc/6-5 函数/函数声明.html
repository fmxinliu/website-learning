<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>函数</title>
</head>
<body>
	<script>
		// 1.必须先调用calc，才会定义全局变量sum
		calc(1, 2);
		document.write(sum + "<br />");

		// 2.JS正式执行前，会将声明的函数预读到所在作用域的顶部【函数声明不必放在调用之前】
		function calc(num1, num2){ // num2 === undefined
			sum=num1+num2; // 全局变量sum
			document.write(sum + "<br />");
		}

		// 3.JS正式执行前，会将声明的变量预读到所在作用域的顶部【但对变量的赋值还是保留在原来的位置】
		document.write(a + "<br />");
		var a=100;
		document.write(a + "<br />");

		// 4.默认参数
		calc(1);
		calc2(2);
		calc3(2);
		calc4(2);
		calc5(2);

		function calc2(num1, num2="0"){ // "0"
			var sum=num1+num2;
			document.write(sum + "<br />");
		}
		function calc3(num1, num2=+"0"){ // 0
			var sum=num1+num2;
			document.write(sum + "<br />");
		}

		// 5.旧版本的js不支持默认参数，可做如下检查
		function calc4(num1, num2){
			// undefined 显式检查
			if (num2 === undefined) {
				num2 = "0";
			}
			var sum=num1+num2;
			document.write(sum + "<br />");
		}

		function calc5(num1, num2){
			// 逻辑或返回第一个有效值
			num2 = num2 || +"0"; // >>>>>>>>>>>>>>>>>>
			var sum=num1+num2;
			document.write(sum + "<br />");
		}


		// 6.如果函数无返回值，返回 undefined
		function doNothing() { /* empty */ }
		document.write(doNothing() === undefined); // === 包括类型也相等
		document.write("<br />");
		document.write(null == undefined); // null 和 undefined 非严格相等【除此之外，不与其他任何==】
		document.write("<br />");

		// 7.如果 return 长表达式，可能会倾向于将其放在单独一行，如下所示：
		document.write(err() + "<br />");
		document.write(corr() + "<br />");

		function err(){
			document.write("This is a err return, function will return undefined" + " " + "!" + "<br />");
			return // JavaScript 默认会在 return 之后加分号，必须把值放在同一行
				(1 + 2 + "3" + "!")
		}

		function corr(){
			return "Never add a newline between return and the value" + " " + "!"
		}
	</script>
</body>
</html>